# ============================================
#        EUREKA DISCOVERY SERVER - BASE
# ============================================

spring.application.name=discovery-server
server.port=8761

# ============================================
#        ACTUATOR / PROMETHEUS
# ============================================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.endpoint.health.probes.enabled=true
management.health.defaults.enabled=true
management.prometheus.metrics.export.enabled=true

management.endpoint.health.group.liveness.include=livenessState
management.endpoint.health.group.readiness.include=readinessState,eurekaServer

# ============================================
#        COMPRESSION
# ============================================
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain
server.compression.min-response-size=1024

# ============================================
#        TOMCAT TUNING
# ============================================
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10
server.tomcat.connection-timeout=20000
server.tomcat.max-connections=8192
server.tomcat.accept-count=100

# ============================================
#        LOGGING PATTERN
# ============================================
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ============================================
#        GRACEFUL SHUTDOWN
# ============================================
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s